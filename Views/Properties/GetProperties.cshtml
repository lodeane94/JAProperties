@using SS.ViewModels
@model List<FeaturedPropertiesSlideViewModel>
@{
    ViewBag.Title = "EasyFindProperties - Get Properties ";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section pageScript
{
    (function(){
    $.getScript('/Scripts/MainScript.js', function()
    {
    setActiveNavigation('@ViewBag.activeNavigation');

    //initialization of bootstrap popover
    $('[data-toggle="popover"]').popover({
    trigger : 'hover click',
    container: 'body'
    });

    });

    $.getScript('/Scripts/PropertiesScript.js',function(){

    if('@ViewBag.activeNavigation' == null || '@ViewBag.activeNavigation' == ''){
    populatePropertyType();
    }
    else{
    populatePropertyTypeByCategoryName('@ViewBag.activeNavigation');
    }
    });
    })();

}

<div class="row" id="properties-container">
    @{
        if (Model != null && Model.Count > 0)
        {
            foreach (var item in Model)
            {
                <div class="col-md-12">
                    <div class="image-container">
                        <div class="image-link">
                            <a href="~/properties/getProperty/@item.property.ID">
                                <div class="image">
                                    <img id="@item.property.ID" src="~/Uploads/@item.propertyPrimaryImageURL" />
                                </div>
                            </a>
                        </div>
                        <div class="image-information-container">
                            <div class="image-information">
                                <div class="image-information-content">
                                    <div class="property-type-banner"><a title="Save Property" class="save-property"><i class="fa fa-thumbs-up fa-2x"></i></a>@item.property.PropertyType.Name | &nbsp; <span style="font-size:16px;"> @String.Format("{0:C}", item.property.Price) </span></div>
                                    <div class="property-address">
                                        Located at : <em>@( (!String.IsNullOrEmpty(item.property.StreetNumber) ? item.property.StreetNumber + ", " : "") + item.property.StreetAddress + ", " + item.property.Division + ", " + item.property.Country )</em>
                                    </div>
                                    <div class="property-owner-contact"><span>Contact Owner At @item.owner.User.CellNum</span></div>
                                    <div class="property-desc">@item.property.Description</div>
                                    <!--<div class="property-ratings-container">
                                        @*@Html.Partial("_PropertyRatings", item)*@
                                        <div class="social-icons">
                                            <div><a href=""><img src="~/Content/facebook.svg" /></a></div>
                                            <div><a href=""><img src="~/Content/twitter.svg" /></a></div>
                                            <div><a href=""><img src="~/Content/google-plus.svg" /></a></div>
                                        </div>
                                    </div>-->
                                </div>
                                <a href="~/properties/getProperty/@item.property.ID" class="view-property-banner" data-toggle="popover" data-content="Click to view details"><i class="fa fa-sign-in fa-2x"></i></a>
                            </div>
                            @*@Html.Partial("_PropertyThumbnailInformation", @item)*@
                        </div>
                    </div>
                    <br />
                </div>
               
            }
            <input type="hidden" id="currentPageNumber" value="@ViewBag.pageNumber" />
        }
        else
        {
            <center>
                <div class="ctnr-headers">
                    <label><strong>No Results Found</strong></label>
                </div>
            </center>
        }
    }
</div>
<div class="row">&nbsp;</div>
<div class="ctnr-options">
    <center>
        <ul class="pagination pagination-sm">
            @{
                double noOfPages = Math.Ceiling((Convert.ToDouble(Model.Count) / Convert.ToDouble(ViewBag.fetchAmount)));
                for (int itemCount = 1; itemCount <= noOfPages; itemCount++)
                {
                    <li><a class="pageNumber" href="@itemCount">@itemCount</a></li>
                }
            }
        </ul>
    </center>
    <span class="previous-page" style="float: left; display:none;"><a href="previous"><span class="glyphicon glyphicon-chevron-left"></span></a></span>
    <span class="next-page" style="float:right; display:none;"><a href="next"><span class="glyphicon glyphicon-chevron-right"></span></a></span>
    <input type="hidden" id="noOfPages" value="@noOfPages" />
    <input type="hidden" id="pgNo" value="@ViewBag.pageNumber" />
    <input type="hidden" id="queryString" value="@ViewContext.HttpContext.Request.QueryString;" />
</div>

